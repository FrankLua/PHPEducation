Работа с датой и временем в [[РНР]]

## Самые часто используемые функции
PHP содержит множество функций для работы с датой и временем. Наиболее употребимыми являются:

## getdate()


```php
getdate()
```
![[Pasted image 20240415124630.png]]
Возвращает ассоциативный массив, содержащий информацию по заданному или по текущему (по умолчанию) времени.

## date()

```php
date("Сегодня d.m.y H:i"); // Сегодня 15.04.24 08:38
```
Возвращает строку
Строка формата может содержать следующие коды:
![[Pasted image 20240415125114.png]]

## mktime()

Возвращает абсолютное время, которое затем можно использовать с функциями `date()` или `getdate()`. Принимает до шести целочисленных аргументов в следующем порядке:
1. часы  
2. минуты  
3. секунды  
4. месяц  
5. день месяца  
6. год
```php
date( "j F Y, \a\\t g.i a, l", mktime( 13, 30, 0, 1, 22, 1971 ) );
//22 January 1971, at 1.30 pm, Friday
```

## checkdate() 
Проверка правильности даты. Аргументы: месяц, день, год. Возвращает `true`, если дата правильная, т.е.  
1. месяц - целое число от 1 до 12;  
2. день - целое число, не превышающее общего количества дней в данном месяце. При этом високосные годы обрабатываются корректно;  
3. год - целое число от 1 до 32767.
## date_default_timezone_set('UTC');
— Устанавливает часовой пояс по умолчанию для всех функций даты/времени в скрипте

## Изменение времени
Для изменения времени существуют две функции
strtotime и DateTime::add

```php
echo date('Y-m-d', strtotime("+30 days"));
//Добавит 1 месяц к текущей дате
```
```php
<?php
$oldDate = "2020-02-27";
$newDate = new DateTime($oldDate);
$newDate->add(new DateInterval('P1D')); // P1D means a period of 1 day
$fomattedDate = $date->format('Y-m-d'); //output: 2020-02-28
?>
```

```php
new DateInterval('P1D') // Принимает строку в формате p- период далее число и конкретная единица - это может быть день d
```
![[Pasted image 20240415131529.png]]